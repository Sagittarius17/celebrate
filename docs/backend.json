{
  "entities": {
    "CelebrationPage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CelebrationPage",
      "type": "object",
      "description": "Represents a single interactive celebration landing page, containing all events and media.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the CelebrationPage entity."
        },
        "title": {
          "type": "string",
          "description": "The main title displayed prominently on the page (e.g., 'Happy Anniversary!')."
        },
        "recipientName": {
          "type": "string",
          "description": "The full name of the person or group being celebrated."
        },
        "creatorName": {
          "type": "string",
          "description": "The name of the user who created this celebration page."
        },
        "occasion": {
          "type": "string",
          "description": "The type of celebration (e.g., Birthday, Anniversary, Graduation, Wedding)."
        },
        "accessCode": {
          "type": "string",
          "description": "A secret code required to securely access this particular page."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the celebration page was initially created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when the celebration page was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "title",
        "recipientName",
        "creatorName",
        "occasion",
        "accessCode",
        "createdAt"
      ]
    },
    "BirthdayEvent": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "BirthdayEvent",
      "type": "object",
      "description": "Represents a single chronological event or memory to be displayed as an interactive card on the timeline.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the BirthdayEvent entity."
        },
        "celebrationPageId": {
          "type": "string",
          "description": "Reference to the CelebrationPage this event belongs to."
        },
        "eventDate": {
          "type": "string",
          "description": "The specific date associated with this event.",
          "format": "date"
        },
        "title": {
          "type": "string",
          "description": "A concise title for the event card."
        },
        "message": {
          "type": "string",
          "description": "The celebratory message or a memorable quote associated with this event."
        },
        "order": {
          "type": "number",
          "description": "An integer representing the display order."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL for the image associated with this event."
        },
        "ownerId": {
          "type": "string",
          "description": "UID of the creator."
        },
        "viewerUids": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Array of UIDs authorized to view."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when this event record was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp indicating when this event record was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "celebrationPageId",
        "eventDate",
        "title",
        "message",
        "order",
        "createdAt"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/users/{userId}/celebrationPages/{celebrationPageId}": {
      "schema": { "$ref": "#/backend/entities/CelebrationPage" },
      "description": "User-owned celebration pages."
    },
    "/users/{userId}/celebrationPages/{celebrationPageId}/birthdayEvents/{birthdayEventId}": {
      "schema": { "$ref": "#/backend/entities/BirthdayEvent" },
      "description": "Events within a celebration page."
    }
  }
}
